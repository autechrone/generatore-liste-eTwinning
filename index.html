<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="2487.6">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}
  </style>
</head>
<body>
<p class="p1">&lt;!DOCTYPE html&gt;</p>
<p class="p1">&lt;html lang="it"&gt;</p>
<p class="p1">&lt;head&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;meta charset="UTF-8"&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;title&gt;Generatore di Liste eTwinning e Controllo&lt;/title&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;!-- Accessibility: Define language and character set --&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;style&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>/* Reset some default styles */</p>
<p class="p1"><span class="Apple-converted-space">        </span>* {</p>
<p class="p1"><span class="Apple-converted-space">            </span>box-sizing: border-box;</p>
<p class="p1"><span class="Apple-converted-space">            </span>margin: 0;</p>
<p class="p1"><span class="Apple-converted-space">            </span>padding: 0;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>body {</p>
<p class="p1"><span class="Apple-converted-space">            </span>font-family: Arial, sans-serif;</p>
<p class="p1"><span class="Apple-converted-space">            </span>background-color: #ffffff; /* White background for high contrast */</p>
<p class="p1"><span class="Apple-converted-space">            </span>color: #333333; /* Dark text for readability */</p>
<p class="p1"><span class="Apple-converted-space">            </span>line-height: 1.6;</p>
<p class="p1"><span class="Apple-converted-space">            </span>padding: 20px;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>header {</p>
<p class="p1"><span class="Apple-converted-space">            </span>text-align: center;</p>
<p class="p1"><span class="Apple-converted-space">            </span>margin-bottom: 30px;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>h1 {</p>
<p class="p1"><span class="Apple-converted-space">            </span>font-size: 2em;</p>
<p class="p1"><span class="Apple-converted-space">            </span>margin-bottom: 10px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>color: #2c3e50; /* Dark blue for better contrast */</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>#instructions {</p>
<p class="p1"><span class="Apple-converted-space">            </span>max-width: 800px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>margin: 0 auto 30px auto;</p>
<p class="p1"><span class="Apple-converted-space">            </span>background-color: #f9f9f9;</p>
<p class="p1"><span class="Apple-converted-space">            </span>padding: 20px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>border-radius: 8px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>border: 1px solid #dddddd;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>#instructions h2 {</p>
<p class="p1"><span class="Apple-converted-space">            </span>font-size: 1.5em;</p>
<p class="p1"><span class="Apple-converted-space">            </span>margin-bottom: 15px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>color: #34495e; /* Slightly lighter blue */</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>#instructions ol {</p>
<p class="p1"><span class="Apple-converted-space">            </span>text-align: left;</p>
<p class="p1"><span class="Apple-converted-space">            </span>margin-left: 20px;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>#generateBtn {</p>
<p class="p1"><span class="Apple-converted-space">            </span>padding: 15px 30px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>font-size: 1em;</p>
<p class="p1"><span class="Apple-converted-space">            </span>background-color: #27ae60; /* Green for action */</p>
<p class="p1"><span class="Apple-converted-space">            </span>color: #ffffff;</p>
<p class="p1"><span class="Apple-converted-space">            </span>border: none;</p>
<p class="p1"><span class="Apple-converted-space">            </span>border-radius: 5px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>cursor: pointer;</p>
<p class="p1"><span class="Apple-converted-space">            </span>transition: background-color 0.3s ease;</p>
<p class="p1"><span class="Apple-converted-space">            </span>margin-bottom: 20px;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>#generateBtn:hover, #generateBtn:focus {</p>
<p class="p1"><span class="Apple-converted-space">            </span>background-color: #219150; /* Darker green on hover/focus */</p>
<p class="p1"><span class="Apple-converted-space">            </span>outline: none;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>#status {</p>
<p class="p1"><span class="Apple-converted-space">            </span>font-size: 1em;</p>
<p class="p1"><span class="Apple-converted-space">            </span>color: #2c3e50;</p>
<p class="p1"><span class="Apple-converted-space">            </span>margin-top: 20px;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>/* Responsive Design */</p>
<p class="p1"><span class="Apple-converted-space">        </span>@media (max-width: 600px) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>h1 {</p>
<p class="p1"><span class="Apple-converted-space">                </span>font-size: 1.5em;</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>#generateBtn {</p>
<p class="p1"><span class="Apple-converted-space">                </span>width: 100%;</p>
<p class="p1"><span class="Apple-converted-space">                </span>padding: 15px;</p>
<p class="p1"><span class="Apple-converted-space">                </span>font-size: 1em;</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>#instructions h2 {</p>
<p class="p1"><span class="Apple-converted-space">                </span>font-size: 1.2em;</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>#instructions ol {</p>
<p class="p1"><span class="Apple-converted-space">                </span>margin-left: 15px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/style&gt;</p>
<p class="p1">&lt;/head&gt;</p>
<p class="p1">&lt;body&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;header&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;h1&gt;Generatore di Liste eTwinning e Controllo&lt;/h1&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/header&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;section id="instructions" aria-labelledby="instructions-heading"&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;h2 id="instructions-heading"&gt;Come Usare Questo Strumento&lt;/h2&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;ol&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;li&gt;Clicca sul pulsante &lt;strong&gt;"Genera e Scarica Lista"&lt;/strong&gt; per creare la tua lista.&lt;/li&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;li&gt;Il file verrà automaticamente scaricato nella cartella predefinita dei download del tuo browser.&lt;/li&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;li&gt;Apri il file di testo per visualizzare le liste "classe eTwinning" e "gruppo di controllo" con numeri univoci a due cifre.&lt;/li&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/ol&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/section&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;main&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;button id="generateBtn" aria-label="Genera e Scarica Lista"&gt;Genera e Scarica Lista&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div id="status" aria-live="polite"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/main&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;script&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>// Function to generate unique two-digit numbers</p>
<p class="p1"><span class="Apple-converted-space">        </span>function generateUniqueTwoDigitNumbers(count) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (count &gt; 100) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>throw new Error("Non è possibile generare più di 100 numeri a due cifre.");</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>const numbers = new Set();</p>
<p class="p1"><span class="Apple-converted-space">            </span>while (numbers.size &lt; count) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const num = Math.floor(Math.random() * 100); // 0 to 99</p>
<p class="p1"><span class="Apple-converted-space">                </span>numbers.add(num.toString().padStart(2, '0')); // Ensure two digits</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>return Array.from(numbers);</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// Function to create list entries</p>
<p class="p1"><span class="Apple-converted-space">        </span>function createListEntries(listType) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const twoDigitNumbers = generateUniqueTwoDigitNumbers(35);</p>
<p class="p1"><span class="Apple-converted-space">            </span>const entries = twoDigitNumbers.map((num, index) =&gt; `${index + 1}-${num}`);</p>
<p class="p1"><span class="Apple-converted-space">            </span>return {</p>
<p class="p1"><span class="Apple-converted-space">                </span>listType: listType,</p>
<p class="p1"><span class="Apple-converted-space">                </span>entries: entries</p>
<p class="p1"><span class="Apple-converted-space">            </span>};</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// Function to compile lists into text content</p>
<p class="p1"><span class="Apple-converted-space">        </span>function compileListsText(classeList, controlloList) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>let textContent = `### ${classeList.listType}\n`;</p>
<p class="p1"><span class="Apple-converted-space">            </span>classeList.entries.forEach(entry =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                </span>textContent += `${entry}\n`;</p>
<p class="p1"><span class="Apple-converted-space">            </span>});</p>
<p class="p1"><span class="Apple-converted-space">            </span>textContent += `\n---\n\n`;</p>
<p class="p1"><span class="Apple-converted-space">            </span>textContent += `### ${controlloList.listType}\n`;</p>
<p class="p1"><span class="Apple-converted-space">            </span>controlloList.entries.forEach(entry =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                </span>textContent += `${entry}\n`;</p>
<p class="p1"><span class="Apple-converted-space">            </span>});</p>
<p class="p1"><span class="Apple-converted-space">            </span>return textContent;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// Function to trigger download of a text file</p>
<p class="p1"><span class="Apple-converted-space">        </span>function downloadTextFile(filename, content) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const blob = new Blob([content], { type: 'text/plain' });</p>
<p class="p1"><span class="Apple-converted-space">            </span>const url = URL.createObjectURL(blob);</p>
<p class="p1"><span class="Apple-converted-space">            </span>const a = document.createElement('a');</p>
<p class="p1"><span class="Apple-converted-space">            </span>a.href = url;</p>
<p class="p1"><span class="Apple-converted-space">            </span>a.download = filename;</p>
<p class="p1"><span class="Apple-converted-space">            </span>a.setAttribute('aria-label', `Scarica ${filename}`);</p>
<p class="p1"><span class="Apple-converted-space">            </span>document.body.appendChild(a);</p>
<p class="p1"><span class="Apple-converted-space">            </span>a.click();</p>
<p class="p1"><span class="Apple-converted-space">            </span>document.body.removeChild(a);</p>
<p class="p1"><span class="Apple-converted-space">            </span>URL.revokeObjectURL(url);</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// Main function to generate and download the list</p>
<p class="p1"><span class="Apple-converted-space">        </span>function generateAndDownloadList() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>try {</p>
<p class="p1"><span class="Apple-converted-space">                </span>// Update status</p>
<p class="p1"><span class="Apple-converted-space">                </span>const statusDiv = document.getElementById('status');</p>
<p class="p1"><span class="Apple-converted-space">                </span>statusDiv.textContent = "Generazione in corso...";</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>// Generate both lists</p>
<p class="p1"><span class="Apple-converted-space">                </span>const classeList = createListEntries("classe eTwinning");</p>
<p class="p1"><span class="Apple-converted-space">                </span>const controlloList = createListEntries("gruppo di controllo");</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>// Compile text</p>
<p class="p1"><span class="Apple-converted-space">                </span>const compiledText = compileListsText(classeList, controlloList);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>// Define filename with timestamp for uniqueness</p>
<p class="p1"><span class="Apple-converted-space">                </span>const timestamp = new Date().toISOString().replace(/[:.]/g, '-');</p>
<p class="p1"><span class="Apple-converted-space">                </span>const filename = `lista_etwinning_controllo_${timestamp}.txt`;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>// Trigger download</p>
<p class="p1"><span class="Apple-converted-space">                </span>downloadTextFile(filename, compiledText);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>// Update status</p>
<p class="p1"><span class="Apple-converted-space">                </span>statusDiv.textContent = `Lista generata e scaricata con successo come "${filename}".`;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>} catch (error) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>// Handle errors gracefully</p>
<p class="p1"><span class="Apple-converted-space">                </span>const statusDiv = document.getElementById('status');</p>
<p class="p1"><span class="Apple-converted-space">                </span>statusDiv.textContent = `Errore: ${error.message}`;</p>
<p class="p1"><span class="Apple-converted-space">                </span>console.error(error);</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// Attach event listener to the button</p>
<p class="p1"><span class="Apple-converted-space">        </span>document.getElementById('generateBtn').addEventListener('click', generateAndDownloadList);</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/script&gt;</p>
<p class="p1">&lt;/body&gt;</p>
<p class="p1">&lt;/html&gt;</p>
</body>
</html>
